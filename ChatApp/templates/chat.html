{% extends "blank.html" %}
{% block content %}
<div class="flex justify-center items-center bg-gray-800 w-screen h-screen overflow-hidden">
  <div class="bg-gray-700 w-1/3 h-3/4 flex flex-col justify-between rounded-lg shadow-lg">
    <!-- Header -->
    <div class="bg-gray-600 text-white p-4 font-bold rounded-t-lg text-center">
      {{chat_group.group_name}}
    </div>

    <!-- Chat Messages -->
    <div class="bg-gray-800 flex-grow overflow--y-auto p-4 space-y-4">
      <ul>
        {% for message in chat_messages %}
        {% if message.author == user %}
        <!-- User's message (right-aligned) -->
        <li class="flex justify-end">
            <div class="ml-3 m-3 text-sm p-1 rounded-md text-black bg-blue-400  flex flex-col justify-center">
                <p>{{ message.body }}</p>
                <span>{{ message.author.profile.display_name }}</span>
            </div>
        </li>
        {% else %}
        <!-- Other user's message (left-aligned) -->
        <li class="flex justify-start">
            <div class="bg-green-300 text-black p-1 m-2 rounded-md max-w-xs break-words">
              <p>{{ message.body }}</p>
              <span>{{ message.author.profile.display_name }}</span>
            </div>
        </li>
        {% endif %}
        {% endfor %}
      </ul>
    </div>

    <!-- Message Input -->
    <div class="bg-gray-700 p-4 flex items-center space-x-4">
      <input
        type="text"
        placeholder="Enter your message here"
        class="flex-grow bg-gray-800 text-white placeholder-gray-400 p-3 rounded-md border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"
      />
      <button
        class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition-all"
        type="submit"
      >
        Send
      </button>
    </div>
  </div>
</div>
{% endblock %}
